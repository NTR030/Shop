"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[962],{8962:function(s,e,o){o.r(e),o.d(e,{default:function(){return y}});var t=o(6768),i=o(5130);const a=s=>((0,t.Qi)("data-v-60a89a3c"),s=s(),(0,t.jt)(),s),l={key:0,class:"login"},r=a((()=>(0,t.Lk)("h3",null,"登录",-1))),n=a((()=>(0,t.Lk)("label",{for:"email"},"Email",-1))),u=a((()=>(0,t.Lk)("label",{for:"password"},"Password",-1))),d=["disabled"];function m(s,e,o,a,m,c){const p=(0,t.g2)("BaseCard"),g=(0,t.g2)("DiaLog");return(0,t.uX)(),(0,t.CE)(t.FK,null,[m.err?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("section",l,[(0,t.bF)(p,null,{default:(0,t.k6)((()=>[(0,t.Lk)("form",{autocomplete:"off",onSubmit:e[2]||(e[2]=(0,i.D$)(((...s)=>c.submitLogin&&c.submitLogin(...s)),["prevent"]))},[r,(0,t.Lk)("div",null,[n,(0,t.bo)((0,t.Lk)("input",{type:"email",id:"email",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=s=>m.email=s)},null,512),[[i.Jo,m.email,void 0,{trim:!0}]])]),(0,t.Lk)("div",null,[u,(0,t.bo)((0,t.Lk)("input",{type:"password",id:"password",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=s=>m.password=s)},null,512),[[i.Jo,m.password]])]),(0,t.Lk)("input",{type:"submit",value:"确认",class:"submit",disabled:m.isSubmit},null,8,d)],32)])),_:1})])),((0,t.uX)(),(0,t.Wv)(t.Im,{to:"body"},[m.err?((0,t.uX)(),(0,t.Wv)(g,{key:0,err:m.err,msg:m.msg,onCloseDialog:c.closeDialog},null,8,["err","msg","onCloseDialog"])):(0,t.Q3)("",!0)]))],64)}var c=o(4232);const p=s=>((0,t.Qi)("data-v-14d2dede"),s=s(),(0,t.jt)(),s),g={class:"dialog"},h={open:""},b=p((()=>(0,t.Lk)("h3",null,"Error",-1)));function k(s,e,o,i,a,l){return(0,t.uX)(),(0,t.CE)("section",g,[(0,t.Lk)("dialog",h,[b,(0,t.Lk)("p",null,(0,c.v_)(o.msg),1),(0,t.Lk)("button",{onClick:e[0]||(e[0]=(...s)=>l.closeDialog&&l.closeDialog(...s))},"×")])])}var L={props:["err","msg"],emits:["closeDialog"],methods:{closeDialog(){this.$emit("closeDialog",!1)}}},f=o(1241);const v=(0,f.A)(L,[["render",k],["__scopeId","data-v-14d2dede"]]);var w=v,D={components:{DiaLog:w},data(){return{email:"",password:"",err:!1,msg:"",isSubmit:!1}},methods:{async submitLogin(){this.isSubmit=!0;const s={email:this.email,password:this.password};await this.$store.dispatch("user/getUser",s),this.isSubmit=!1,this.err=this.$store.getters.isError,this.err?(this.msg=this.$store.getters.errorMsg,this.email=this.password=""):this.$router.replace({path:"/commodities"})},closeDialog(s){this.err=s}}};const C=(0,f.A)(D,[["render",m],["__scopeId","data-v-60a89a3c"]]);var y=C}}]);
//# sourceMappingURL=962.ad9b9129.js.map